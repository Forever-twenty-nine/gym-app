<div class="relative w-full">
    <!-- Selector visible -->
    <button type="button" (click)="toggle()" class="w-full px-3 py-2.5 text-sm rounded-lg bg-[var(--bg-primary)] border border-[var(--border-default)]
             text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)]
             transition-all duration-150 ease-in-out pr-10 text-left">
        {{ getLabelForValue() }}
        <span class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)]">
            <!-- Ã­cono dropdown -->
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
        </span>
    </button>
    <!-- Dropdown -->
    @if (isOpen()) {
    <ul class="absolute z-50 mt-1 w-full rounded-md bg-[var(--bg-primary)] shadow-lg border border-[var(--border-default)] max-h-60 overflow-auto text-sm animate-fade-in"
        (clickOutside)="close()">
        @for (opt of options; track opt.value) {
        <li (click)="select(opt.value)"
            class="px-4 py-2 cursor-pointer hover:bg-[var(--bg-muted)] text-[var(--text-primary)] rounded-md"
            [class.font-semibold]="opt.value === value">
            {{ opt.label }}
        </li>
        }
    </ul>
    }
</div>