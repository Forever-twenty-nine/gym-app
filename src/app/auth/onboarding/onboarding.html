<div class="relative min-h-dvh bg-brand-primary  px-8 pb-10">

  <!-- Botón volver -->
  <ion-back-button defaultHref="/auth/welcome" class="fixed top-4 left-3 z-10 px-2 py-2 rounded-full">
  </ion-back-button>

  <!-- Encabezado -->
  <div class="w-full text-center pt-20 mb-12">
    <p class="text-lg text-[var(--text-primary)]">
      Para mejorar tu experiencia, necesitamos algunos datos más:
    </p>
  </div>

  <!-- Nombre -->
  <div class="w-full mb-10">
    <h1 class="text-2xl font-bold text-center mb-4 text-[var(--text-primary)]">
      ¿Cuál es tu nombre?
    </h1>
    <ion-input fill="outline" placeholder="Tu nombre" id="nombre" class="gym-input "
      [ngModel]="nombre()" (ngModelChange)="nombre.set($event)">
    </ion-input>
  </div>

  <!-- Rol -->
  <div class="w-full mb-10">
    <h1 class="text-2xl font-bold text-center mb-4 text-[var(--text-primary)]">
      ¿Cómo utilizarás la app?
    </h1>
    <ion-list class="gym-select-container">
      <ion-item>
        <ion-select aria-label="Rol" fill="outline" class="gym-select" placeholder="Selecciona tu rol"
          interface="action-sheet" [ngModel]="rol() ?? ''" (ngModelChange)="rol.set($event)">
          <ion-select-option value="">
            Selecciona tu rol
          </ion-select-option>
          @for (r of roles(); track r) {
          <ion-select-option [value]="r">{{ r }}</ion-select-option>
          }
        </ion-select>
      </ion-item>
    </ion-list>
  </div>

  <!-- Objetivo (solo si rol === 'cliente') -->
  @if (rol() === 'cliente') {
  <div class="w-full">
    <h1 class="text-2xl font-bold text-center mb-4 text-[var(--text-primary)]">
      ¿Cuál es tu objetivo?
    </h1>
    <p class="mb-6 text-center ">
      Esta información ayudará a tu entrenador a diseñar un plan personalizado para ti.
    </p>
    <ion-list class="gym-select-container">
      <ion-item>
        <ion-select aria-label="Objetivo" fill="outline" interface="action-sheet" label="" label-placement="floating"
          placeholder="Selecciona tu objetivo" class="gym-select" [ngModel]="objetivo() ?? ''"
          (ngModelChange)="objetivo.set($event)">

          <ion-select-option value="">Selecciona tu objetivo</ion-select-option>
          @for (o of objetivos(); track o) {
          <ion-select-option [value]="o">{{ o }}</ion-select-option>
          }
        </ion-select>
      </ion-item>
    </ion-list>
  </div>
  }
  <!-- Botón Guardar -->
  <ion-button type="submit" (click)="completar()" [disabled]="loading()" expand="block" fill="solid" size="large"
    shape="round" class="gym-btn-accent mt-12">
    {{ loading() ? 'Cargando...' : 'Guardar' }}
  </ion-button>

  <ion-button fill="clean" expand="block" size="default" class="gym-btn-link mt-4" (click)="logout()">
    Cerrar sesión
  </ion-button>


</div>
