<div class="relative min-h-dvh bg-brand-neutral px-8 flex items-start justify-center">

  <!-- Fondo con blur -->
  <div class="absolute inset-0 z-0">
    <div class="w-full h-full bg-[url('/assets/images/bg.jpg')] bg-cover bg-center blur-xs"></div>
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/80 to-black pointer-events-none"></div>
  </div>

  <!-- Botón volver para atrás -->
  <div class="absolute top-0 left-0">
    <ion-buttons slot="start" class="">
      <ion-back-button defaultHref="/auth/welcome" class="fixed top-4 left-3  px-2 py-2 rounded-full text-white">
      </ion-back-button>
    </ion-buttons>
  </div>

  <!-- Contenido encima del fondo -->
  <div class="z-10 relative mt-28 w-full">

    <h1 class="text-white text-left font-semibold font-heading text-4xl mb-4">
      Crear Cuenta
    </h1>

    <form [formGroup]="form" (ngSubmit)="submit()" class="relative w-full max-w-md  space-y-4 animate-fade-in mb-6">

      <!-- Google login -->
      <p class="text-base text-left text-gray-200 mt-8 mb-3">
        A través de:
      </p>

      <ion-button expand="block" fill="outline" size="default" (click)="loginConGoogle()" 
        class="normal-case border border-gray-300 border-solid rounded-[10px]">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5" alt="Google"
          />
        <span class="text-[var(--color-brand-neutral-500)] pl-2">Regístrate con Google</span>
      </ion-button>


      <!-- Email login -->
      <p class="text-base text-left text-gray-200 mt-8 mb-3">
        O continuá con:
      </p>

      <ion-input label="Email" label-placement="floating" formControlName="email" type="email" fill="outline"
        class="gym-input text-white mt-0"
        [errorText]="form.get('email')?.invalid && form.get('email')?.touched ? 'Ingresa un email válido.' : undefined"
        mode="md">
      </ion-input>

      <ion-input label="Contraseña" label-placement="floating" fill="outline" type="password" formControlName="password"
        class="gym-input text-white mt-0"
        [errorText]="form.get('password')?.invalid && form.get('password')?.touched ? 'Contraseña inválida (mínimo 6 caracteres).' : undefined"
        mode="md">
      </ion-input>

      <ion-input label="Repite contraseña" label-placement="floating" fill="outline" type="password"
        formControlName="confirmPassword" class="gym-input text-white mt-0" [errorText]="form.get('confirmPassword')?.touched && form.hasError('passwordMismatch')
        ? 'Las contraseñas no coinciden.'
        : undefined" mode="md">
      </ion-input>

      <ion-button type="submit" [disabled]="form.invalid || loading()" expand="block" fill="solid" size="large"
        shape="round" class="gym-btn-accent mt-8" mode="">
        {{ loading() ? 'Cargando...' : 'Crear cuenta' }}
      </ion-button>
    </form>

  </div>

</div>
