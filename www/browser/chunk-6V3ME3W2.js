import{a as k}from"./chunk-JTV65B3H.js";import{b as ee}from"./chunk-CPSYCWXI.js";import{a as X}from"./chunk-W6FKDBEB.js";import{a as L,c as I,d as A,n as V}from"./chunk-TGROKR7G.js";import"./chunk-6WT4W7AE.js";import{D as T,F as N,b as P,k as y,l as Q,r as Z,s as u,u as _,v as C,x as S,y as E,z as F}from"./chunk-LNU3NAQS.js";import{$a as p,Fa as v,S as K,Ta as j,Ua as B,X as m,Ya as d,Za as i,_a as r,db as b,eb as H,ha as g,mb as a,ob as w,qb as O,wa as l}from"./chunk-HVYCA3GY.js";import"./chunk-6CKZNIFD.js";import"./chunk-2UXUWYAD.js";import"./chunk-LO3DSBFX.js";import"./chunk-M5AQEUIA.js";import"./chunk-RJ42A2SB.js";import"./chunk-4U6PRYVA.js";import"./chunk-6ZFCGJBU.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-V7QUP6M3.js";import"./chunk-XAEF55LN.js";import"./chunk-42C7ZIID.js";import{g as o}from"./chunk-4H2XPKAU.js";var x=class x{constructor(){o(this,"_toast",g(null))}show(n,t="info",e=3e3){this._toast.set({text:n,type:t}),setTimeout(()=>this._toast.set(null),e)}get message(){return this._toast.asReadonly()}};o(x,"\u0275fac",function(t){return new(t||x)}),o(x,"\u0275prov",K({token:x,factory:x.\u0275fac,providedIn:"root"}));var h=x;var G=class G{constructor(){o(this,"fb",m(T));o(this,"auth",m(k));o(this,"toast",m(h));o(this,"router",m(y));o(this,"firestore",m(ee));o(this,"userService",m(X));o(this,"loading",g(!1));o(this,"form",this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]}))}submit(){if(this.form.invalid)return;let{email:n,password:t}=this.form.value;this.loading.set(!0),this.auth.login(n,t).catch(()=>{this.toast.show("Credenciales inv\xE1lidas","error")}).finally(()=>{this.loading.set(!1)})}goTo(n){this.router.navigateByUrl(`/auth/${n}`)}loginConGoogle(){this.loading.set(!0),this.auth.loginWithGoogle().catch(()=>{this.toast.show("No se pudo iniciar sesi\xF3n con Google","error")}).finally(()=>{this.loading.set(!1)})}};o(G,"\u0275fac",function(t){return new(t||G)}),o(G,"\u0275cmp",v({type:G,selectors:[["app-login"]],decls:23,vars:5,consts:[[1,"relative","min-h-dvh","bg-brand-neutral","px-8","flex","items-start","justify-center"],[1,"absolute","inset-0","z-0"],[1,"w-full","h-full","bg-[url('/assets/bg.jpg')]","bg-cover","bg-center","blur-xs"],[1,"absolute","inset-0","bg-gradient-to-b","from-transparent","via-black/80","to-black","pointer-events-none"],[1,"absolute","top-0","left-0"],["slot","start",1,""],["defaultHref","/auth/welcome","mode","md",1,"fixed","top-4","left-3","px-2","py-2","rounded-full","text-white"],[1,"z-10","relative","mt-28","w-full"],[1,"text-white","text-left","font-semibold","font-heading","text-4xl","mb-4"],[1,"relative","w-full","max-w-md","space-y-4","animate-fade-in","mb-6",3,"ngSubmit","formGroup"],[1,"text-base","text-left","text-gray-200","mt-8","mb-3"],["type","submit","expand","block","fill","outline",1,"normal-case","border","border-gray-300","border-solid","rounded-[10px]"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google",1,"w-5","h-5",3,"click"],[1,"text-brand-text","pl-2"],["label","Email","label-placement","floating","formControlName","email","type","email","fill","outline","mode","md",1,"gym-input","text-white","mt-0",3,"errorText"],["label","Contrase\xF1a","label-placement","floating","type","password","formControlName","password","fill","outline","mode","md",1,"gym-input","text-white","mt-0",3,"errorText"],["type","submit","expand","block","fill","solid","shape","round",1,"gym-btn-accent","mt-8",3,"disabled"]],template:function(t,e){if(t&1&&(i(0,"div",0)(1,"div",1),p(2,"div",2)(3,"div",3),r(),i(4,"div",4)(5,"ion-buttons",5),p(6,"ion-back-button",6),r()(),i(7,"div",7)(8,"h1",8),a(9," Bienvenido a GymApp "),r(),i(10,"form",9),b("ngSubmit",function(){return e.submit()}),i(11,"p",10),a(12," Inicia sesi\xF3n a trav\xE9s de: "),r(),i(13,"ion-button",11)(14,"img",12),b("click",function(){return e.loginConGoogle()}),r(),i(15,"span",13),a(16,"Logueate con Google"),r()(),i(17,"p",10),a(18," O continu\xE1 con: "),r(),p(19,"ion-input",14)(20,"ion-input",15),i(21,"ion-button",16),a(22),r()()()()),t&2){let s,c;l(10),d("formGroup",e.form),l(9),d("errorText",(s=e.form.get("email"))!=null&&s.invalid&&((s=e.form.get("email"))!=null&&s.touched)?"Ingresa un email v\xE1lido.":void 0),l(),d("errorText",(c=e.form.get("password"))!=null&&c.invalid&&((c=e.form.get("password"))!=null&&c.touched)?"Contrase\xF1a inv\xE1lida (m\xEDnimo 6 caracteres).":void 0),l(),d("disabled",e.form.invalid||e.loading()),l(),w(" ",e.loading()?"Cargando...":"Iniciar Sesi\xF3n"," ")}},dependencies:[N,S,_,C,E,F,I,A,L,V],encapsulation:2}));var z=G;var D=class D{constructor(){o(this,"fb",m(T));o(this,"auth",m(k));o(this,"toast",m(h));o(this,"router",m(y));o(this,"loading",g(!1));o(this,"form",this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]],confirmPassword:["",u.required]},{validators:[this.passwordMatchValidator]}))}passwordMatchValidator(n){var s,c;let t=(s=n.get("password"))==null?void 0:s.value,e=(c=n.get("confirmPassword"))==null?void 0:c.value;return t&&e&&t!==e?{passwordMismatch:!0}:null}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{email:n,password:t}=this.form.value;this.loading.set(!0),this.auth.register(n,t).then(()=>{this.router.navigateByUrl("/home")}).catch(()=>{this.toast.show("No se pudo crear la cuenta","error")}).finally(()=>{this.loading.set(!1)})}goTo(n){this.router.navigateByUrl(`/auth/${n}`)}loginConGoogle(){this.loading.set(!0),this.auth.loginWithGoogle().then(n=>{this.router.navigateByUrl("/onboarding")}).catch(()=>{this.toast.show("No se pudo iniciar sesi\xF3n con Google","error")}).finally(()=>this.loading.set(!1))}};o(D,"\u0275fac",function(t){return new(t||D)}),o(D,"\u0275cmp",v({type:D,selectors:[["app-register"]],decls:24,vars:6,consts:[[1,"relative","min-h-dvh","bg-brand-neutral","px-8","flex","items-start","justify-center"],[1,"absolute","inset-0","z-0"],[1,"w-full","h-full","bg-[url('/assets/bg.jpg')]","bg-cover","bg-center","blur-xs"],[1,"absolute","inset-0","bg-gradient-to-b","from-transparent","via-black/80","to-black","pointer-events-none"],[1,"absolute","top-0","left-0"],["slot","start",1,""],["defaultHref","/auth/welcome","mode","md",1,"fixed","top-4","left-3","px-2","py-2","rounded-full","text-white"],[1,"z-10","relative","mt-28","w-full"],[1,"text-white","text-left","font-semibold","font-heading","text-4xl","mb-4"],[1,"relative","w-full","max-w-md","space-y-4","animate-fade-in","mb-6",3,"ngSubmit","formGroup"],[1,"text-base","text-left","text-gray-200","mt-8","mb-3"],["type","submit","expand","block","fill","outline",1,"normal-case","border","border-gray-300","border-solid","rounded-[10px]"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google",1,"w-5","h-5",3,"click"],[1,"text-brand-text","pl-2"],["label","Email","label-placement","floating","formControlName","email","type","email","fill","outline","mode","md",1,"gym-input","text-white","mt-0",3,"errorText"],["label","Contrase\xF1a","label-placement","floating","fill","outline","type","password","formControlName","password","mode","md",1,"gym-input","text-white","mt-0",3,"errorText"],["label","Repite contrase\xF1a","label-placement","floating","fill","outline","type","password","formControlName","confirmPassword","mode","md",1,"gym-input","text-white","mt-0",3,"errorText"],["type","submit","expand","block","fill","solid","shape","round","mode","",1,"gym-btn-accent","mt-8",3,"disabled"]],template:function(t,e){if(t&1&&(i(0,"div",0)(1,"div",1),p(2,"div",2)(3,"div",3),r(),i(4,"div",4)(5,"ion-buttons",5),p(6,"ion-back-button",6),r()(),i(7,"div",7)(8,"h1",8),a(9," Crear Cuenta "),r(),i(10,"form",9),b("ngSubmit",function(){return e.submit()}),i(11,"p",10),a(12," A trav\xE9s de: "),r(),i(13,"ion-button",11)(14,"img",12),b("click",function(){return e.loginConGoogle()}),r(),i(15,"span",13),a(16,"Reg\xEDstrate con Google"),r()(),i(17,"p",10),a(18," O continu\xE1 con: "),r(),p(19,"ion-input",14)(20,"ion-input",15)(21,"ion-input",16),i(22,"ion-button",17),a(23),r()()()()),t&2){let s,c,J;l(10),d("formGroup",e.form),l(9),d("errorText",(s=e.form.get("email"))!=null&&s.invalid&&((s=e.form.get("email"))!=null&&s.touched)?"Ingresa un email v\xE1lido.":void 0),l(),d("errorText",(c=e.form.get("password"))!=null&&c.invalid&&((c=e.form.get("password"))!=null&&c.touched)?"Contrase\xF1a inv\xE1lida (m\xEDnimo 6 caracteres).":void 0),l(),d("errorText",(J=e.form.get("confirmPassword"))!=null&&J.touched&&e.form.hasError("passwordMismatch")?"Las contrase\xF1as no coinciden.":void 0),l(),d("disabled",e.form.invalid||e.loading()),l(),w(" ",e.loading()?"Cargando...":"Crear cuenta"," ")}},dependencies:[P,N,S,_,C,E,F,A,L,I,V],encapsulation:2}));var U=D;function ie(f,n){f&1&&a(0," El correo es obligatorio. ")}function oe(f,n){f&1&&a(0," Ingres\xE1 un correo v\xE1lido. ")}function re(f,n){if(f&1&&(i(0,"div",11),j(1,ie,1,0)(2,oe,1,0),r()),f&2){let t,e=H(2);l(),B(!((t=e.form.get("email"))==null||t.errors==null)&&t.errors.required?1:!((t=e.form.get("email"))==null||t.errors==null)&&t.errors.email?2:-1)}}function ne(f,n){if(f&1&&(i(0,"div",8),p(1,"input",9),i(2,"label",10),a(3," Correo electr\xF3nico "),r(),j(4,re,3,1,"div",11),r(),i(5,"button",12),a(6),r()),f&2){let t,e=H();l(4),B((t=e.form.get("email"))!=null&&t.touched&&((t=e.form.get("email"))!=null&&t.invalid)?4:-1),l(),d("disabled",e.form.invalid||e.loading()),l(),w(" ",e.loading()?"Enviando...":"Enviar enlace de recuperaci\xF3n"," ")}}function ae(f,n){f&1&&(i(0,"p",5),a(1," \xA1Correo enviado! Revis\xE1 tu bandeja de entrada. "),r())}var M=class M{constructor(){o(this,"router",m(y));o(this,"fb",m(T));o(this,"auth",m(k));o(this,"toast",m(h));o(this,"loading",g(!1));o(this,"sent",g(!1));o(this,"form",this.fb.group({email:["",[u.required,u.email]]}))}submit(){if(this.form.invalid)return;let{email:n}=this.form.value;this.loading.set(!0),this.auth.resetPassword(n).then(()=>{this.toast.show("Correo de recuperaci\xF3n enviado","success"),this.sent.set(!0)}).catch(()=>this.toast.show("No se pudo enviar el correo","error")).finally(()=>this.loading.set(!1))}goTo(n){this.router.navigateByUrl(`/auth/${n}`)}};o(M,"\u0275fac",function(t){return new(t||M)}),o(M,"\u0275cmp",v({type:M,selectors:[["app-forgot-password-page"]],decls:12,vars:2,consts:[[1,"min-h-screen","bg-gradient-to-br","from-[var(--success)]","to-[color-mix(in","srgb,","var(--success)","15%,","white)]","flex","items-center","justify-center","px-4"],[1,"bg-[var(--bg-primary)]","text-[var(--text-primary)]","shadow-xl","rounded-2xl","p-8","w-full","max-w-md","space-y-6","border","border-[var(--border-strong)]",3,"ngSubmit","formGroup"],[1,"text-center"],[1,"text-2xl","font-bold","text-[var(--accent)]","mb-1"],[1,"text-sm","text-[var(--text-secondary)]"],[1,"text-[var(--success)]","text-center","font-semibold"],[1,"text-sm","text-center","mt-4"],["type","button",1,"text-[var(--accent)]","hover:underline",3,"click"],[1,"relative"],["type","email","formControlName","email","id","email","placeholder"," ",1,"peer","w-full","pt-6","pb-2","px-3","border","rounded-lg","bg-[var(--bg-primary)]","text-[var(--text-primary)]","border-[var(--border-default)]","focus:outline-none","focus:ring-2","focus:ring-[var(--accent)]"],["for","email",1,"absolute","left-2","-top-2","px-1","text-sm","bg-[var(--bg-primary)]","text-[var(--text-secondary)]","transition-all","peer-placeholder-shown:top-3","peer-placeholder-shown:text-base","peer-placeholder-shown:text-[var(--text-secondary-muted)]","peer-focus:-top-2","peer-focus:text-sm","peer-focus:text-[var(--accent)]"],[1,"text-sm","text-[var(--danger)]","mt-1","ml-1"],["type","submit",1,"bg-[var(--accent)]","hover:bg-[var(--accent-hover)]","text-[var(--text-inverse)]","font-medium","py-3","rounded-lg","w-full","transition","disabled:opacity-50",3,"disabled"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"form",1),b("ngSubmit",function(){return e.submit()}),i(2,"div",2)(3,"h1",3),a(4,"Recuperar Contrase\xF1a"),r(),i(5,"p",4),a(6,"Te enviaremos un enlace para restablecerla"),r()(),j(7,ne,7,3)(8,ae,2,0,"p",5),i(9,"div",6)(10,"button",7),b("click",function(){return e.goTo("login")}),a(11," Volver al inicio de sesi\xF3n "),r()()()()),t&2&&(l(),d("formGroup",e.form),l(6),B(e.sent()?8:7))},dependencies:[P,N,S,Z,_,C,E,F],encapsulation:2}));var W=M;var le=()=>["/auth/register"],se=()=>["/auth/login"],R=class R{};o(R,"\u0275fac",function(t){return new(t||R)}),o(R,"\u0275cmp",v({type:R,selectors:[["app-welcome"]],decls:17,vars:4,consts:[[1,"min-h-dvh","bg-brand-neutral","bg-[url('/assets/bg.jpg')]","bg-cover","bg-center","flex","items-end","justify-center","px-4"],[1,"fixed","inset-0","bg-gradient-to-b","from-transparent","via-black/80","to-black","pointer-events-none","z-0"],[1,"z-10","mb-6"],["src","/src/assets/bg.jpg","alt","",1,"w-28","h-20","mb-6"],[1,"text-white","text-left","font-semibold","font-heading","text-4xl","mb-4"],[1,"text-brand-accent"],[1,"text-gray-200","text-left","mb-8"],["type","button","expand","block","fill","solid","shape","round",1,"gym-btn-accent","w-full","mb-1",3,"routerLink"],[1,"flex","justify-center","items-center"],[1,"text-white"],["type","button","expand","","fill","clean",1,"gym-btn-link",3,"routerLink"]],template:function(t,e){t&1&&(i(0,"div",0),p(1,"div",1),i(2,"div",2),p(3,"img",3),i(4,"h1",4)(5,"span",5),a(6,"Entrenamientos"),r(),a(7," dise\xF1ados s\xF3lo para ti! "),r(),i(8,"p",6),a(9," Sigue un plan personalizado adaptado a tus objetivos, nivel fitnes y preferencias! "),r(),i(10,"ion-button",7),a(11," Registrarte "),r(),i(12,"div",8)(13,"p",9),a(14," Ya tenes una cuenta? "),r(),i(15,"ion-button",10),a(16," Inicia Sesi\xF3n "),r()()()()),t&2&&(l(10),d("routerLink",O(2,le)),l(5),d("routerLink",O(3,se)))},dependencies:[I,Q],encapsulation:2}));var $=R;var tt=[{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"welcome",component:$},{path:"login",component:z},{path:"register",component:U},{path:"forgot-password",component:W},{path:"**",redirectTo:"welcome"}];export{tt as AuthRoutes};
