import{a as $}from"./chunk-JTV65B3H.js";import{a as R}from"./chunk-CPSYCWXI.js";import{a as A}from"./chunk-W6FKDBEB.js";import{A as I,B,C as U,E as P,k,r as V,u as D,w as F}from"./chunk-LNU3NAQS.js";import{Fa as O,Ta as j,Ua as w,Va as f,Wa as _,X as g,Xa as x,Ya as p,Za as t,_a as r,aa as M,ba as E,cb as T,db as u,eb as y,ha as m,mb as a,nb as h,ob as N,wa as o}from"./chunk-HVYCA3GY.js";import{g as i,i as S}from"./chunk-4H2XPKAU.js";var C=(e=>(e.BAJAR_PESO="bajar_peso",e.AUMENTAR_MUSCULO="aumentar_musculo",e.MANTENER_PESO="mantener_peso",e))(C||{});function J(l,d){if(l&1&&(t(0,"option",9),a(1),r()),l&2){let n=d.$implicit;p("ngValue",n),o(),h(n)}}function L(l,d){if(l&1&&(t(0,"option",9),a(1),r()),l&2){let n=d.$implicit;p("ngValue",n),o(),h(n)}}function q(l,d){var n;if(l&1){let e=T();t(0,"label",11),a(1,"Objetivo"),r(),t(2,"select",12),u("ngModelChange",function(b){M(e);let s=y();return E(s.objetivo.set(b))}),t(3,"option",8),a(4,"Selecciona tu objetivo"),r(),_(5,L,2,2,"option",9,f),r()}if(l&2){let e=y();o(2),p("ngModel",(n=e.objetivo())!=null?n:""),o(3),x(e.objetivos())}}var c=class c{constructor(){i(this,"auth",g($));i(this,"user",g(A));i(this,"router",g(k));i(this,"nombre",m(""));i(this,"rol",m(null));i(this,"objetivo",m(null));i(this,"loading",m(!1));i(this,"roles",m(Object.values(R)));i(this,"objetivos",m(Object.values(C)))}completar(){return S(this,null,function*(){if(!this.nombre().trim()||!this.rol()){console.warn("\u{1F6D1} Faltan datos");return}this.loading.set(!0);try{yield this.auth.completarOnboarding(this.nombre(),this.rol()),this.router.navigateByUrl("/")}catch(d){console.error("\u274C Error al completar onboarding",d)}finally{this.loading.set(!1)}})}};i(c,"\u0275fac",function(n){return new(n||c)}),i(c,"\u0275cmp",O({type:c,selectors:[["app-onboarding"]],decls:19,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-[var(--bg-muted)]","p-4"],[1,"bg-[var(--bg-primary)]","shadow-elevated","border","border-[var(--border-default)]","rounded-xl","p-6","w-full","max-w-md","space-y-4","animate-fade-in"],[1,"text-2xl","font-bold","text-[var(--text-primary)]","text-center"],[1,"text-sm","text-[var(--text-secondary)]","text-center","mb-4"],["for","nombre",1,"text-[var(--text-primary)]","block","mb-1"],["type","text","id","nombre","placeholder","Tu nombre",1,"w-full","p-2","rounded","border","border-[var(--border-default)]","bg-[var(--bg-primary)]","text-[var(--text-primary)]",3,"ngModelChange","ngModel"],["for","rol",1,"text-[var(--text-primary)]","block","mt-4","mb-1"],["id","rol",1,"w-full","p-2","rounded","border","border-[var(--border-default)]","bg-[var(--bg-primary)]","text-[var(--text-primary)]",3,"ngModelChange","ngModel"],["value",""],[3,"ngValue"],[1,"w-full","mt-6","bg-[var(--accent)]","hover:bg-[var(--accent-hover)]","text-[var(--text-inverse)]","py-2","rounded","font-medium",3,"click","disabled"],["for","objetivo",1,"text-[var(--text-primary)]","block","mt-4","mb-1"],["id","objetivo",1,"w-full","p-2","rounded","border","border-[var(--border-default)]","bg-[var(--bg-primary)]","text-[var(--text-primary)]",3,"ngModelChange","ngModel"]],template:function(n,e){var v;n&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),a(3," \u{1F389} Bienvenido "),r(),t(4,"p",3),a(5," Completa tu perfil para continuar "),r(),t(6,"label",4),a(7,"Nombre"),r(),t(8,"input",5),u("ngModelChange",function(s){return e.nombre.set(s)}),r(),t(9,"label",6),a(10,"Rol"),r(),t(11,"select",7),u("ngModelChange",function(s){return e.rol.set(s)}),t(12,"option",8),a(13,"Selecciona tu rol"),r(),_(14,J,2,2,"option",9,f),r(),j(16,q,7,1),t(17,"button",10),u("click",function(){return e.completar()}),a(18),r()()()),n&2&&(o(8),p("ngModel",e.nombre()),o(3),p("ngModel",(v=e.rol())!=null?v:""),o(3),x(e.roles()),o(2),w(e.rol()==="cliente"?16:-1),o(),p("disabled",e.loading()),o(),N(" ",e.loading()?"Guardando\u2026":"\u2705 Continuar"," "))},dependencies:[P,B,U,V,I,D,F],encapsulation:2}));var G=c;export{G as Onboarding};
